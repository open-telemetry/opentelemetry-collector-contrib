# K8S Config Provider (k8scfg)
<!-- status autogenerated section -->
| Status        |           |
| ------------- |-----------|
| Stability     | [development]  |
| Distributions | [contrib] |
| Issues        | [![Open issues](https://img.shields.io/github/issues-search/open-telemetry/opentelemetry-collector-contrib?query=is%3Aissue%20is%3Aopen%20label%3Aprovider%2Fk8scfgprovider%20&label=open&color=orange&logo=opentelemetry)](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues?q=is%3Aopen+is%3Aissue+label%3Aprovider%2Fk8scfgprovider) [![Closed issues](https://img.shields.io/github/issues-search/open-telemetry/opentelemetry-collector-contrib?query=is%3Aissue%20is%3Aclosed%20label%3Aprovider%2Fk8scfgprovider%20&label=closed&color=blue&logo=opentelemetry)](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues?q=is%3Aclosed+is%3Aissue+label%3Aprovider%2Fk8scfgprovider) |
| Code coverage | [![codecov](https://codecov.io/github/open-telemetry/opentelemetry-collector-contrib/graph/main/badge.svg?component=provider_k8scfg)](https://app.codecov.io/gh/open-telemetry/opentelemetry-collector-contrib/tree/main/?components%5B0%5D=provider_k8scfg&displayType=list) |
| [Code Owners](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/CONTRIBUTING.md#becoming-a-code-owner)    |  |

[development]: https://github.com/open-telemetry/opentelemetry-collector/blob/main/docs/component-stability.md#development
[contrib]: https://github.com/open-telemetry/opentelemetry-collector-releases/tree/main/distributions/otelcol-contrib
<!-- end autogenerated section -->

Provider that retrieves values from keys in kubernetes configmaps and secrets.

## Summary

This provider enables you to use items from Kubernetes ConfigMap and Secret resources in your OpenTelemetry config file.
Normally you would need to make the items available using volumes or environment variables, but this is not possible if you cannot change the Deployment yaml for the otel collector.
This can be the case when the collector is provided as a service and the Deployment resource is managed with GitOps outside of our control.

You can use the provider like this:

```yaml
exporters:
  some-exporter:
    some-parameter: ${k8scfg:secret/my-namespace/my-secret/data/my-key}
```

## Usage

The format of the parameter is an opaque URI.

The scheme fo the URI is **k8scfg**.

The 5 parts are separated by forward slashes and have the following meaning.


| Part # | Element | Description | Valid values |
|--------|---------|-------------|--------------|
| #1  | resource type | The Kubernetes resource type | secret or configMap (case insensitive) |
| #2 | namespace | The namespace of the resource | valid namespace name, or '.' for the namespace of the otel collector | 
| #3 | resource name | The name of the resource | valid Kubernetes resource name |
| #4 | data type | Secrets have data or stringData, config maps have data or binaryData | data, stringData, binaryData
| #5 | the key | The name of the key | valid key name |




