type: logstometricsprocessor

status:
  class: processor
  stability:
    alpha: [logs]
  distributions: [contrib]
  codeowners:
    active: []

tests:
  config:
    metrics_exporter: otlp/metrics
    drop_logs: false
    logs:
      - name: logrecord.count
        description: "Count of log record"
        sum:
          value: "1" # Count each log record as 1, has to be a string

telemetry:
  metrics:
    processor_logstometrics_logs_processed:
      description: Number of log records processed by the processor
      stability:
        level: development
      unit: "{records}"
      enabled: true
      sum:
        value_type: int
        monotonic: true
    processor_logstometrics_metrics_extracted:
      description: Number of metrics extracted from logs
      stability:
        level: development
      unit: "{metrics}"
      enabled: true
      sum:
        value_type: int
        monotonic: true
    processor_logstometrics_errors:
      description: Number of errors encountered during processing
      stability:
        level: development
      unit: "{errors}"
      enabled: true
      sum:
        value_type: int
        monotonic: true
    processor_logstometrics_logs_dropped:
      description: Number of logs dropped when drop_logs is true
      stability:
        level: development
      unit: "{records}"
      enabled: true
      sum:
        value_type: int
        monotonic: true
    processor_logstometrics_processing_duration:
      description: Time spent processing logs and extracting metrics
      stability:
        level: development
      unit: ms
      enabled: true
      histogram:
        value_type: int
        buckets: [1, 5, 10, 25, 50, 100, 250, 500, 1000, 2500, 5000]

