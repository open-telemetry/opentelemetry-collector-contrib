type: oracledb

status:
  class: receiver
  stability:
    alpha: [metrics]
  distributions: [contrib]
  codeowners:
    active: [dmitryax, crobert-1, atoulme]

resource_attributes:
  oracledb.instance.name:
    description: The name of the instance that data is coming from.
    enabled: true
    type: string
  oracledb.username:
    description: Oracle username
    enabled: true
    type: string
  oracledb.schemaname:
    description: Schema user name
    enabled: true
    type: string
  oracledb.query.program:
    description: Operating system program name
    enabled: true
    type: string
  oracledb.query.module:
    description: Name of the currently executing module
    enabled: true
    type: string
  oracledb.query.status:
    description: Status of the query.
    enabled: true
    type: string
  oracledb.query.state:
    description: State of the query
    enabled: true
    type: string
  oracledb.query.wait_class:
    description: Name of the class of the wait event
    enabled: true
    type: string
  oracledb.query.event:
    description: Resource or event for which the session is waiting
    enabled: true
    type: string
  oracledb.query.object_name:
    description: PL/SQL object name associated with the query.
    enabled: true
    type: string
  oracledb.query.object_type:
    description: Type of PL/SQL object associated with the query
    enabled: true
    type: string
  db.query.text:
    description: The full query text.
    enabled: true
    type: string
  oracledb.query.osuser:
    description: Operating system client user name
    enabled: true
    type: string

attributes:
  session_status:
    description: Session status
    type: string
  session_type:
    description: Session type
    type: string
  tablespace_name:
    description: Tablespace name
    type: string

metrics:
  oracledb.cpu_time:
    description: Cumulative CPU time, in seconds
    enabled: true
    sum:
      aggregation_temporality: cumulative
      monotonic: true
      value_type: double
    unit: s
  oracledb.enqueue_deadlocks:
    description: Total number of deadlocks between table or row locks in different
      sessions.
    enabled: true
    sum:
      aggregation_temporality: cumulative
      monotonic: true
      value_type: int
      input_type: string
    unit: "{deadlocks}"
  oracledb.exchange_deadlocks:
    description: Number of times that a process detected a potential deadlock when
      exchanging two buffers and raised an internal, restartable error. Index scans
      are the only operations that perform exchanges.
    enabled: true
    sum:
      aggregation_temporality: cumulative
      monotonic: true
      value_type: int
      input_type: string
    unit: "{deadlocks}"
  oracledb.executions:
    description: Total number of calls (user and recursive) that executed SQL statements
    enabled: true
    sum:
      aggregation_temporality: cumulative
      monotonic: true
      value_type: int
      input_type: string
    unit: "{executions}"
  oracledb.logical_reads:
    description: Number of logical reads
    enabled: true
    sum:
      aggregation_temporality: cumulative
      monotonic: true
      value_type: int
      input_type: string
    unit: "{reads}"
  oracledb.hard_parses:
    description: Number of hard parses
    enabled: true
    sum:
      aggregation_temporality: cumulative
      monotonic: true
      value_type: int
      input_type: string
    unit: "{parses}"
  oracledb.parse_calls:
    description: Total number of parse calls.
    enabled: true
    sum:
      aggregation_temporality: cumulative
      monotonic: true
      value_type: int
      input_type: string
    unit: "{parses}"
  oracledb.pga_memory:
    description: Session PGA (Program Global Area) memory
    enabled: true
    sum:
      aggregation_temporality: cumulative
      monotonic: true
      value_type: int
      input_type: string
    unit: By
  oracledb.physical_reads:
    description: Number of physical reads
    enabled: true
    sum:
      aggregation_temporality: cumulative
      monotonic: true
      value_type: int
      input_type: string
    unit: "{reads}"
  oracledb.user_commits:
    description: Number of user commits. When a user commits a transaction, the redo
      generated that reflects the changes made to database blocks must be written
      to disk. Commits often represent the closest thing to a user transaction rate.
    enabled: true
    sum:
      aggregation_temporality: cumulative
      monotonic: true
      value_type: int
      input_type: string
    unit: "{commits}"
  oracledb.user_rollbacks:
    description: Number of times users manually issue the ROLLBACK statement or an
      error occurs during a user's transactions
    enabled: true
    sum:
      aggregation_temporality: cumulative
      monotonic: true
      value_type: int
      input_type: string
    unit: "1"
  oracledb.sessions.usage:
    attributes:
      - session_type
      - session_status
    description: Count of active sessions.
    enabled: true
    gauge:
      value_type: int
      input_type: string
    unit: "{sessions}"
  oracledb.processes.usage:
    description: Current count of active processes.
    enabled: true
    gauge:
      value_type: int
      input_type: string
    unit: "{processes}"
  oracledb.processes.limit:
    description: Maximum limit of active processes, -1 if unlimited.
    enabled: true
    gauge:
      value_type: int
      input_type: string
    unit: "{processes}"
  oracledb.sessions.limit:
    description: Maximum limit of active sessions, -1 if unlimited.
    enabled: true
    gauge:
      value_type: int
      input_type: string
    unit: "{sessions}"
  oracledb.enqueue_locks.usage:
    description: Current count of active enqueue locks.
    enabled: true
    gauge:
      value_type: int
      input_type: string
    unit: "{locks}"
  oracledb.enqueue_locks.limit:
    description: Maximum limit of active enqueue locks, -1 if unlimited.
    enabled: true
    gauge:
      value_type: int
      input_type: string
    unit: "{locks}"
  oracledb.dml_locks.usage:
    description: Current count of active DML (Data Manipulation Language) locks.
    enabled: true
    gauge:
      value_type: int
      input_type: string
    unit: "{locks}"
  oracledb.dml_locks.limit:
    description: Maximum limit of active DML (Data Manipulation Language) locks, -1 if unlimited.
    enabled: true
    gauge:
      value_type: int
      input_type: string
    unit: "{locks}"
  oracledb.enqueue_resources.usage:
    description: Current count of active enqueue resources.
    enabled: true
    gauge:
      value_type: int
      input_type: string
    unit: "{resources}"
  oracledb.enqueue_resources.limit:
    description: Maximum limit of active enqueue resources, -1 if unlimited.
    enabled: true
    gauge:
      value_type: int
      input_type: string
    unit: "{resources}"
  oracledb.transactions.usage:
    description: Current count of active transactions.
    enabled: true
    gauge:
      value_type: int
      input_type: string
    unit: "{transactions}"
  oracledb.transactions.limit:
    description: Maximum limit of active transactions, -1 if unlimited.
    enabled: true
    gauge:
      value_type: int
      input_type: string
    unit: "{transactions}"
  oracledb.tablespace_size.limit:
    attributes:
      - tablespace_name
    description: Maximum size of tablespace in bytes, -1 if unlimited.
    enabled: true
    gauge:
      value_type: int
    unit: By
  oracledb.tablespace_size.usage:
    attributes:
      - tablespace_name
    description: Used tablespace in bytes.
    enabled: true
    gauge:
      value_type: int
    unit: By
  oracledb.db_block_gets:
    description: Number of times a current block was requested from the buffer cache.
    enabled: false
    sum:
      aggregation_temporality: cumulative
      monotonic: true
      value_type: int
      input_type: string
    unit: "{gets}"
  oracledb.consistent_gets:
    description: Number of times a consistent read was requested for a block from the buffer cache.
    enabled: false
    sum:
      aggregation_temporality: cumulative
      monotonic: true
      value_type: int
      input_type: string
    unit: "{gets}"
  oracledb.query.id:
    description: SQL ID.
    enabled: true
    gauge:
      value_type: int
    unit: "{id}"
  oracledb.query.child_number:
    description: Child number for a given SQL ID.
    enabled: true
    gauge:
      value_type: int
    unit: "{id}"
  oracledb.query.sid:
    description: Session id in which the query is running.
    enabled: true
    gauge:
      value_type: int
    unit: "{id}"
  oracledb.query.serial_number:
    description: Serial number of the session id.
    enabled: true
    gauge:
      value_type: int
    unit: "{number}"
  oracledb.query.process:
    description: Process under which query is executed.
    enabled: true
    gauge:
      value_type: int
    unit: "{process}"
  oracledb.query.port:
    description: Process number on which query is executed.
    enabled: true
    gauge:
      value_type: int
    unit: "{port}"
  oracledb.query.plan_hash:
    description: Plan Hash Value of the query.
    enabled: true
    gauge:
      value_type: int
    unit: "{plan_hash}"
  oracledb.query.duration:
    description: Execution duration of the query in seconds
    enabled: true
    sum:
      aggregation_temporality: cumulative
      monotonic: true
      value_type: double
    unit: s
