# ❌ ANTI-PATTERN: Multiple devices in single receiver instance
# This configuration will trigger a warning and only monitor the first device!
# Use this for testing the warning message, but NOT for production.

receivers:
  # ❌ WRONG - Multiple devices in ONE receiver instance
  ciscoosreceiver:
    collection_interval: 30s
    timeout: 45s
    
    devices:
      # ✅ This device WILL be monitored
      - device:
          host:
            ip: "192.168.1.1"
            port: 22
        auth:
          username: "admin"
          password: "password"
      
      # ❌ This device will be IGNORED with a warning!
      - device:
          host:
            ip: "192.168.1.2"
            port: 22
        auth:
          username: "admin"
          password: "password"
    
    scrapers:
      system:
        metrics:
          cisco.device.up:
            enabled: true
      interfaces:
        metrics:
          cisco.interface.up:
            enabled: true

processors:
  batch:

exporters:
  debug:
    verbosity: detailed

service:
  pipelines:
    metrics:
      receivers: [ciscoosreceiver]
      processors: [batch]
      exporters: [debug]
  
  telemetry:
    logs:
      level: debug  # Set to debug to see the warning

# Expected Warning Log:
# WARN Multiple devices configured in single receiver instance - only first device will be monitored
#      device_count=2
#      monitoring_device=10.106.0.5
#      recommendation="Use separate receiver instances for multiple devices (e.g., ciscoosreceiver/device1, ciscoosreceiver/device2)"
