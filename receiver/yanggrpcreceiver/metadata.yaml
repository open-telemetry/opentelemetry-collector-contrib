type: yanggrpc

status:
  class: receiver
  stability:
    alpha: [metrics]
  distributions: []
  codeowners:
    active: [atoulme]

# Internal telemetry metrics for component observability
telemetry:
  metrics:
    yang_receiver_bytes_received:
      enabled: true
      description: Total bytes received from telemetry connections
      unit: "By"
      sum:
        value_type: int
        monotonic: true
      stability: development
    yang_receiver_connections_closed:
      enabled: true
      description: Number of gRPC connections closed
      unit: "{connections}"
      sum:
        value_type: int
      stability: development
    yang_receiver_connections_opened:
      enabled: true
      description: Number of gRPC connections opened
      unit: "{connections}"
      sum:
        value_type: int
      stability: development
    yang_receiver_grpc_errors:
      enabled: true
      description: Number of gRPC errors encountered
      unit: "{errors}"
      sum:
        value_type: int
        monotonic: true
      stability: development
    yang_receiver_messages_dropped:
      enabled: true
      description: Number of telemetry messages dropped due to errors
      unit: "{messages}"
      sum:
        value_type: int
        monotonic: true
      stability: development
    yang_receiver_messages_processed:
      enabled: true
      description: Number of telemetry messages successfully processed
      unit: "{messages}"
      sum:
        value_type: int
        monotonic: true
      stability: development
    yang_receiver_messages_received:
      enabled: true
      description: Number of telemetry messages received
      unit: "{messages}"
      sum:
        value_type: int
        monotonic: true
      stability: development
    yang_receiver_processing_duration:
      enabled: true
      description: Time spent processing telemetry messages
      unit: "ms"
      histogram:
        bucket_boundaries: [ 0.1, 0.5, 1.0, 5.0, 10.0, 50.0, 100.0, 500.0, 1000.0 ]
        value_type: double
      stability: development
    yang_receiver_yang_modules_discovered:
      enabled: true
      description: Number of unique YANG modules discovered
      unit: "{errors}"
      sum:
        value_type: int
      stability: development

tests:
  skip_lifecycle: true
  skip_shutdown: true
