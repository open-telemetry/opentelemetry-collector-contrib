# icmpcheckreceiver
<!-- status autogenerated section -->
| Status        |           |
| ------------- |-----------|
| Stability     | [development]: metrics   |
| Distributions | [] |
| Issues        | [![Open issues](https://img.shields.io/github/issues-search/open-telemetry/opentelemetry-collector-contrib?query=is%3Aissue%20is%3Aopen%20label%3Areceiver%2Ficmpcheck%20&label=open&color=orange&logo=opentelemetry)](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues?q=is%3Aopen+is%3Aissue+label%3Areceiver%2Ficmpcheck) [![Closed issues](https://img.shields.io/github/issues-search/open-telemetry/opentelemetry-collector-contrib?query=is%3Aissue%20is%3Aclosed%20label%3Areceiver%2Ficmpcheck%20&label=closed&color=blue&logo=opentelemetry)](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues?q=is%3Aclosed+is%3Aissue+label%3Areceiver%2Ficmpcheck) |
| Code coverage | [![codecov](https://codecov.io/github/open-telemetry/opentelemetry-collector-contrib/graph/main/badge.svg?component=receiver_icmpcheckreceiver)](https://app.codecov.io/gh/open-telemetry/opentelemetry-collector-contrib/tree/main/?components%5B0%5D=receiver_icmpcheckreceiver&displayType=list) |
| [Code Owners](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/CONTRIBUTING.md#becoming-a-code-owner)    | [@atoulme](https://www.github.com/atoulme), [@jkoronaAtCisco](https://www.github.com/jkoronaAtCisco) |

[development]: https://github.com/open-telemetry/opentelemetry-collector/blob/main/docs/component-stability.md#development
<!-- end autogenerated section -->

The ICMP Check Receiver can be used for synthetic checks against network endpoints. This receiver will send ICMP Echo Requests (pings) 
to the specified `targets`. It provides device availability monitoring and interface statistics with native OpenTelemetry OTLP metrics generation.

## Configuration

The following configuration settings are available:

- `targets` (required): The list of targets to be pinged.
- `collection_interval` (optional, default = `60s`): This receiver collects metrics on an interval. Valid time units are `ns`, `us` (or `Âµs`), `ms`, `s`, `m`, `h`.
- `initial_delay` (optional, default = `1s`): Defines how long this receiver waits before starting.

### Target Configuration

Each target has the following properties:

- `host` (required): A hostname or IP address to be pinged.
- `ping_count` (optional, default = `3`): The number of packets after which the pinger is stopped.
- `ping_interval` (optional, default = `1s`): The wait time between each packet send. 
- `ping_timeout` (optional, default = `5s`): Specifies a timeout before ping exits, regardless of how many packets have been received.

### Optional Metrics Configuration

Each metric can be enabled or disabled individually. By default, all metrics are enabled. Example:

```yaml
receivers:
  icmpcheck:
    metrics:
      ping.rtt.min:
        enabled: false
```

## Metrics

Details about the metrics produced by this receiver can be found in [documentation.md](./documentation.md)

## Attributes

The following attributes are added to all metrics:

- `net.peer.ip` - the IP address of the host being pinged.
- `net.peer.name` - the string address of the host being pinged.

## Example Configuration

```yaml
receivers:
  icmpcheck:
    collection_interval: 30s
    metrics:
      ping.rtt.min:
        enabled: false
    targets:
      - host: "https://opentelemtry.io"
        ping_count: 4
      - host: "192.168.101.25"
        ping_interval: 2s
        ping_timeout: 3s
processors:
  batch:
    send_batch_max_size: 1000
    send_batch_size: 100
    timeout: 10s
exporters:
  debug:
    verbosity: detailed
service:
  pipelines:
    metrics:
      receivers: [ icmpcheck ]
      processors: [ batch ]
      exporters: [ debug ]
```
