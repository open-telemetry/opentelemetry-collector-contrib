type: fileconsumer

status:
  disable_codecov_badge: true
  class: pkg
  stability:
    beta: [logs]
  codeowners:
    active: [andrzej-stencel]
    emeritus: [djaglowski]

attributes:
  file_path:
    description: The path of the file being monitored
    type: string

telemetry:
  metrics:
    fileconsumer_file_offset_bytes:
      description: Current read offset in files being monitored. This value may reset when files are rotated.
      unit: "By"
      enabled: true
      stability:
        level: development
      gauge:
        value_type: int
      attributes: [file_path]
    fileconsumer_file_size_bytes:
      description: Current size of files being monitored. This value may reset when files are rotated.
      unit: "By"
      enabled: true
      stability:
        level: development
      gauge:
        value_type: int
      attributes: [file_path]
    fileconsumer_open_files:
      description: Number of open files
      unit: "1"
      enabled: true
      stability:
        level: development
      sum:
        value_type: int
        monotonic: false
    fileconsumer_reading_files:
      description: Number of open files that are being read
      unit: "1"
      enabled: true
      stability:
        level: development
      sum:
        value_type: int
        monotonic: false
