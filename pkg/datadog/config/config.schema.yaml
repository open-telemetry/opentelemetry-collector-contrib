$defs:
  api_config:
    description: APIConfig defines the API configuration options
    type: object
    properties:
      fail_on_invalid_key:
        description: FailOnInvalidKey states whether to exit at startup on invalid API key. The default value is false.
        type: boolean
      key:
        description: 'Key is the Datadog API key to associate your Agent''s data with your organization. Create a new API key here: https://app.datadoghq.com/account/settings'
        $ref: go.opentelemetry.io/collector/config/configopaque.string
      site:
        description: Site is the site of the Datadog intake to send data to. The default value is "datadoghq.com".
        type: string
  config:
    description: Config defines configuration for the Datadog exporter.
    type: object
    properties:
      api:
        description: API defines the Datadog API configuration.
        $ref: api_config
      host_metadata:
        description: HostMetadata defines the host metadata specific configuration
        $ref: host_metadata_config
      hostname_detection_timeout:
        description: HostnameDetectionTimeout defines the timeout for hostname detection. This is necessary for initializing datadog exporter On K8s, it must be set to less than `failureThreshold * periodSeconds` due to initialization blocking health_check liveness probes on startup. If set to zero duration, there will be no timeout applied. Default is 25 seconds.
        type: string
        format: duration
      logs:
        description: Logs defines the Logs exporter specific configuration
        $ref: logs_config
      metrics:
        description: Metrics defines the Metrics exporter specific configuration
        $ref: metrics_config
      only_metadata:
        description: OnlyMetadata defines whether to only send metadata This is useful for agent-collector setups, so that metadata about a host is sent to the backend even when telemetry data is reported via a different host. This flag is incompatible with disabling host metadata, `use_resource_metadata`, or `host_metadata::hostname_source != first_resource`
        type: boolean
      orchestrator_explorer:
        $ref: orchestrator_explorer_config
      sending_queue:
        x-optional: true
        $ref: go.opentelemetry.io/collector/exporter/exporterhelper.queue_batch_config
      traces:
        description: Traces defines the Traces exporter specific configuration
        $ref: traces_exporter_config
    allOf:
      - $ref: go.opentelemetry.io/collector/config/confighttp.client_config
      - $ref: go.opentelemetry.io/collector/config/configretry.back_off_config
      - $ref: tags_config
  connector_component_config:
    description: ConnectorComponentConfig defines the configuration for the Datadog connector component
    type: object
    properties:
      traces:
        description: Traces defines the Traces specific configuration
        $ref: traces_connector_config
  cumulative_monotonic_sum_mode:
    description: CumulativeMonotonicSumMode is the export mode for OTLP Sum metrics.
    type: string
  histogram_config:
    description: HistogramConfig customizes export of OTLP Histograms.
    type: object
    properties:
      mode:
        description: Mode for exporting histograms. Valid values are 'distributions', 'counters' or 'nobuckets'. - 'distributions' sends histograms as Datadog distributions (recommended). - 'counters' sends histograms as Datadog counts, one metric per bucket. - 'nobuckets' sends no bucket histogram metrics. Aggregation metrics will still be sent if `send_aggregation_metrics` is enabled. The current default is 'distributions'.
        $ref: histogram_mode
      send_aggregation_metrics:
        description: SendAggregations states if the exporter should send .sum, .count, .min and .max metrics for histograms. The default is false.
        type: boolean
      send_count_sum_metrics:
        description: 'SendCountSum states if the export should send .sum and .count metrics for histograms. The default is false. Deprecated: [v0.75.0] Use `send_aggregation_metrics` (HistogramConfig.SendAggregations) instead.'
        type: boolean
  histogram_mode:
    type: string
  host_metadata_config:
    description: HostMetadataConfig defines the host metadata related configuration. Host metadata is the information used for populating the infrastructure list, the host map and providing host tags functionality. The exporter will send host metadata for a single host, whose name is chosen according to `host_metadata::hostname_source`.
    type: object
    properties:
      enabled:
        description: Enabled enables the host metadata functionality.
        type: boolean
      hostname_source:
        description: 'HostnameSource is the source for the hostname of host metadata. This hostname is used for identifying the infrastructure list, host map and host tag information related to the host where the Datadog exporter is running. Changing this setting will not change the host used to tag your metrics, traces and logs in any way. For remote hosts, see https://docs.datadoghq.com/opentelemetry/schema_semantics/host_metadata/. Valid values are ''first_resource'' and ''config_or_system'': - ''first_resource'' picks the host metadata hostname from the resource attributes on the first OTLP payload that gets to the exporter. If the first payload lacks hostname-like attributes, it will fallback to ''config_or_system''. **Do not use this hostname source if receiving data from multiple hosts**. - ''config_or_system'' picks the host metadata hostname from the ''hostname'' setting, If this is empty it will use available system APIs and cloud provider endpoints. The default is ''config_or_system''.'
        $ref: hostname_source
      reporter_period:
        description: ReporterPeriod is the period at which the host metadata reporter will run.
        type: string
        format: duration
      tags:
        description: Tags is a list of host tags. These tags will be attached to telemetry signals that have the host metadata hostname. To attach tags to telemetry signals regardless of the host, use a processor instead.
        type: array
        items:
          type: string
  hostname_source:
    description: HostnameSource is the source for the hostname of host metadata.
    type: string
  initial_value_mode:
    description: InitialValueMode defines what the exporter should do with the initial value of a time series when transforming from cumulative to delta.
    type: string
  logs_config:
    description: LogsConfig defines logs exporter specific configuration
    type: object
    properties:
      batch_wait:
        description: 'BatchWait represents the maximum time the logs agent waits to fill each batch of logs before sending. Note: this config option does not apply when the `exporter.datadogexporter.UseLogsAgentExporter` feature flag is disabled.'
        type: integer
      compression_level:
        description: 'CompressionLevel accepts values from 0 (no compression) to 9 (maximum compression but higher resource usage). Only takes effect if UseCompression is set to true. Note: this config option does not apply when the `exporter.datadogexporter.UseLogsAgentExporter` feature flag is disabled.'
        type: integer
      use_compression:
        description: 'UseCompression enables the logs agent to compress logs before sending them. Note: this config option does not apply when the `exporter.datadogexporter.UseLogsAgentExporter` feature flag is disabled.'
        type: boolean
    allOf:
      - $ref: go.opentelemetry.io/collector/config/confignet.tcp_addr_config
  metrics_config:
    description: MetricsConfig defines the metrics exporter specific configuration options
    type: object
    properties:
      delta_ttl:
        description: DeltaTTL defines the time that previous points of a cumulative monotonic metric are kept in memory to calculate deltas
        type: integer
        x-customType: int64
      histograms:
        description: HistConfig defines the export of OTLP Histograms.
        $ref: histogram_config
      summaries:
        description: SummaryConfig defines the export for OTLP Summaries.
        $ref: summary_config
      sums:
        description: SumConfig defines the export of OTLP Sums.
        $ref: sum_config
    allOf:
      - $ref: go.opentelemetry.io/collector/config/confignet.tcp_addr_config
      - $ref: metrics_exporter_config
  metrics_exporter_config:
    description: MetricsExporterConfig provides options for a user to customize the behavior of the metrics exporter
    type: object
    properties:
      instrumentation_scope_metadata_as_tags:
        description: InstrumentationScopeMetadataAsTags, if set to true, adds the name and version of the instrumentation scope that created a metric to the metric tags
        type: boolean
      resource_attributes_as_tags:
        description: ResourceAttributesAsTags, if set to true, will use the exporterhelper feature to transform all resource attributes into metric labels, which are then converted into tags
        type: boolean
  orchestrator_explorer_config:
    description: OrchestratorExplorerConfig defines configuration for the Datadog orchestrator explorer.
    type: object
    properties:
      enabled:
        description: Enabled enables the orchestrator explorer.
        type: boolean
    allOf:
      - $ref: go.opentelemetry.io/collector/config/confignet.tcp_addr_config
  sum_config:
    description: SumConfig customizes export of OTLP Sums.
    type: object
    properties:
      cumulative_monotonic_mode:
        description: CumulativeMonotonicMode is the mode for exporting OTLP Cumulative Monotonic Sums. Valid values are 'to_delta' or 'raw_value'. - 'to_delta' calculates delta for cumulative monotonic sums and sends it as a Datadog count. - 'raw_value' sends the raw value of cumulative monotonic sums as Datadog gauges. The default is 'to_delta'. See https://docs.datadoghq.com/metrics/otlp/?tab=sum#mapping for details and examples.
        $ref: cumulative_monotonic_sum_mode
      initial_cumulative_monotonic_value:
        description: InitialCumulativeMonotonicMode defines the behavior of the exporter when receiving the first value of a cumulative monotonic sum.
        $ref: initial_value_mode
  summary_config:
    description: SummaryConfig customizes export of OTLP Summaries.
    type: object
    properties:
      mode:
        description: Mode is the mode for exporting OTLP Summaries. Valid values are 'noquantiles' or 'gauges'. - 'noquantiles' sends no `.quantile` metrics. `.sum` and `.count` metrics will still be sent. - 'gauges' sends `.quantile` metrics as gauges tagged by the quantile. The default is 'gauges'. See https://docs.datadoghq.com/metrics/otlp/?tab=summary#mapping for details and examples.
        $ref: summary_mode
  summary_mode:
    description: SummaryMode is the export mode for OTLP Summary metrics.
    type: string
  tags_config:
    description: TagsConfig defines the tag-related configuration It is embedded in the configuration
    type: object
    properties:
      hostname:
        description: Hostname is the fallback hostname used for payloads without hostname-identifying attributes. This option will NOT change the hostname applied to your metrics, traces and logs if they already have hostname-identifying attributes. If unset, the hostname will be determined automatically. See https://docs.datadoghq.com/opentelemetry/schema_semantics/hostname/?tab=datadogexporter#fallback-hostname-logic for details. Prefer using the `datadog.host.name` resource attribute over using this setting. See https://docs.datadoghq.com/opentelemetry/schema_semantics/hostname/?tab=datadogexporter#general-hostname-semantic-conventions for details.
        type: string
  traces_config:
    description: TracesConfig defines the traces exporter specific configuration options
    type: object
    properties:
      compute_stats_by_span_kind:
        description: 'If set to true, enables an additional stats computation check on spans to see they have an eligible `span.kind` (server, consumer, client, producer). If enabled, a span with an eligible `span.kind` will have stats computed. If disabled, only top-level and measured spans will have stats computed. NOTE: For stats computed from OTel traces, only top-level spans are considered when this option is off. If you are sending OTel traces and want stats on non-top-level spans, this flag will need to be enabled. If you are sending OTel traces and do not want stats computed by span kind, you need to disable this flag and disable `compute_top_level_by_span_kind`.'
        type: boolean
      compute_top_level_by_span_kind:
        description: If set to true, root spans and spans with a server or consumer `span.kind` will be marked as top-level. Additionally, spans with a client or producer `span.kind` will have stats computed. Enabling this config option may increase the number of spans that generate trace metrics, and may change which spans appear as top-level in Datadog. ComputeTopLevelBySpanKind needs to be enabled in both the Datadog connector and Datadog exporter configs if both components are being used. The default value is `false`.
        type: boolean
      ignore_resources:
        description: 'ignored resources A blacklist of regular expressions can be provided to disable certain traces based on their resource name all entries must be surrounded by double quotes and separated by commas. ignore_resources: ["(GET|POST) /healthcheck"]'
        type: array
        items:
          type: string
      peer_service_aggregation:
        description: 'If set to true, enables `peer.service` aggregation in the exporter. If disabled, aggregated trace stats will not include `peer.service` as a dimension. For the best experience with `peer.service`, it is recommended to also enable `compute_stats_by_span_kind`. If enabling both causes the datadog exporter to consume too many resources, try disabling `compute_stats_by_span_kind` first. If the overhead remains high, it will be due to a high cardinality of `peer.service` values from the traces. You may need to check your instrumentation. Deprecated: Please use PeerTagsAggregation instead'
        type: boolean
      peer_tags:
        description: '[BETA] Optional list of supplementary peer tags that go beyond the defaults. The Datadog backend validates all tags and will drop ones that are unapproved. The default set of peer tags can be found at https://github.com/DataDog/datadog-agent/blob/505170c4ac8c3cbff1a61cf5f84b28d835c91058/pkg/trace/stats/concentrator.go#L55.'
        type: array
        items:
          type: string
      peer_tags_aggregation:
        description: If set to true, enables aggregation of peer related tags (e.g., `peer.service`, `db.instance`, etc.) in the datadog exporter. If disabled, aggregated trace stats will not include these tags as dimensions on trace metrics. For the best experience with peer tags, Datadog also recommends enabling `compute_stats_by_span_kind`. If you are using an OTel tracer, it's best to have both enabled because client/producer spans with relevant peer tags may not be marked by the datadog exporter as top-level spans. If enabling both causes the datadog exporter to consume too many resources, try disabling `compute_stats_by_span_kind` first. A high cardinality of peer tags or APM resources can also contribute to higher CPU and memory consumption. You can check for the cardinality of these fields by making trace search queries in the Datadog UI. The default list of peer tags can be found in https://github.com/DataDog/datadog-agent/blob/main/pkg/trace/stats/concentrator.go.
        type: boolean
      span_name_as_resource_name:
        description: If set to true the OpenTelemetry span name will used in the Datadog resource name. If set to false the resource name will be filled with the instrumentation library name + span kind. The default value is `false`.
        type: boolean
      span_name_remappings:
        description: 'SpanNameRemappings is the map of datadog span names and preferred name to map to. This can be used to automatically map Datadog Span Operation Names to an updated value. All entries should be key/value pairs. span_name_remappings: io.opentelemetry.javaagent.spring.client: spring.client instrumentation:express.server: express go.opentelemetry.io_contrib_instrumentation_net_http_otelhttp.client: http.client'
        type: object
        additionalProperties:
          type: string
  traces_connector_config:
    description: TracesConnectorConfig Traces configuration in DD connector
    type: object
    properties:
      bucket_interval:
        description: BucketInterval specifies the time interval size of aggregation buckets that aggregate the Datadog trace metrics. It is also the time interval that Datadog trace metrics payloads are flushed to the pipeline. If you are concerned about the metric volume generated by the Datadog connector and the resulting networking egress, try increasing bucket_interval. Default is 10s if unset.
        type: string
        format: duration
      ignore_missing_datadog_fields:
        description: IgnoreMissingDatadogFields specifies whether we should recompute DD span fields if the corresponding "datadog." namespaced span attributes are missing. If it is false (default), we will use the incoming "datadog." namespaced OTLP span attributes to construct the DD span, and if they are missing, we will recompute them from the other OTLP semantic convention attributes. If it is true, we will only populate a field if its associated "datadog." OTLP span attribute exists, otherwise we will leave it empty.
        type: boolean
      resource_attributes_as_container_tags:
        description: ResourceAttributesAsContainerTags specifies the list of resource attributes to be used as container tags.
        type: array
        items:
          type: string
      trace_buffer:
        description: TraceBuffer specifies the number of Datadog Agent TracerPayloads to buffer before dropping. The default value is 1000.
        type: integer
    allOf:
      - $ref: traces_config
  traces_exporter_config:
    description: TracesExporterConfig Traces configuration in DD exporter
    type: object
    properties:
      trace_buffer:
        description: TraceBuffer specifies the number of Datadog Agent TracerPayloads to buffer before dropping. The default value is 0, meaning the Datadog Agent TracerPayloads are unbuffered.
        type: integer
    allOf:
      - $ref: go.opentelemetry.io/collector/config/confignet.tcp_addr_config
      - $ref: traces_config
