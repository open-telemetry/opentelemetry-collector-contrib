# Hydrolix Exporter

<!-- status autogenerated section -->
| Status        |           |
| ------------- |-----------|
| Stability     | [development]: metrics, traces, logs   |
| Distributions | [] |
| Issues        | [![Open issues](https://img.shields.io/github/issues-search/open-telemetry/opentelemetry-collector-contrib?query=is%3Aissue%20is%3Aopen%20label%3Aexporter%2Fhydrolix%20&label=open&color=orange&logo=opentelemetry)](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues?q=is%3Aopen+is%3Aissue+label%3Aexporter%2Fhydrolix) [![Closed issues](https://img.shields.io/github/issues-search/open-telemetry/opentelemetry-collector-contrib?query=is%3Aissue%20is%3Aclosed%20label%3Aexporter%2Fhydrolix%20&label=closed&color=blue&logo=opentelemetry)](https://github.com/open-telemetry/opentelemetry-collector-contrib/issues?q=is%3Aclosed+is%3Aissue+label%3Aexporter%2Fhydrolix) |
| Code coverage | [![codecov](https://codecov.io/github/open-telemetry/opentelemetry-collector-contrib/graph/main/badge.svg?component=exporter_hydrolix)](https://app.codecov.io/gh/open-telemetry/opentelemetry-collector-contrib/tree/main/?components%5B0%5D=exporter_hydrolix&displayType=list) |
| [Code Owners](https://github.com/open-telemetry/opentelemetry-collector-contrib/blob/main/CONTRIBUTING.md#becoming-a-code-owner)    | [@murphy](https://www.github.com/murphy) |

[development]: https://github.com/open-telemetry/opentelemetry-collector/blob/main/docs/component-stability.md#development
<!-- end autogenerated section -->

This exporter supports sending OpenTelemetry metrics, traces, and logs to [Hydrolix](https://www.hydrolix.io/).

Hydrolix is a cloud-native data platform designed for high-volume, high-velocity log and event data. It provides efficient data ingestion and querying capabilities optimized for observability data.

## Configuration

The following configuration options are supported:

- `endpoint` (required): The Hydrolix ingest endpoint URL.
- `hdx_table` (required): The Hydrolix table name where data will be written.
- `hdx_transform` (required): The Hydrolix transform to apply to incoming data.
- `hdx_username` (required): Authentication username for Hydrolix.
- `hdx_password` (required): Authentication password for Hydrolix.
- `timeout` (optional): HTTP client timeout. Default is 30s.

### Example Configuration

```yaml
exporters:
  hydrolix:
    endpoint: https://ingest.hydrolix.example.com
    hdx_table: otel_data
    hdx_transform: otel_transform
    hdx_username: ${env:HYDROLIX_USERNAME}
    hdx_password: ${env:HYDROLIX_PASSWORD}
    timeout: 30s
```

## Data Model

### Metrics

The exporter sends metrics with the following fields:
- Metric name, description, and unit
- Metric type (gauge, sum, histogram, exponential histogram, summary)
- Timestamp and values
- Service name and resource attributes
- Metric-specific attributes
- Optional trace context (traceId, spanId) extracted from metric attributes

### Traces

The exporter sends traces (spans) with the following fields:
- Trace ID, span ID, and parent span ID
- Span name and kind
- Start time and duration
- Status code and message
- Service name and resource attributes
- Span attributes
- Span events (logs attached to spans)

### Logs

The exporter sends logs with the following fields:
- Timestamp and observed timestamp
- Severity number and text
- Log body
- Service name and resource attributes
- Log attributes
- Optional trace context (traceId, spanId, traceFlags)
- HTTP-specific attributes (status code, route, method)

## Example Pipeline Configuration

```yaml
receivers:
  otlp:
    protocols:
      http:
        endpoint: 0.0.0.0:4318
      grpc:
        endpoint: 0.0.0.0:4317

processors:
  batch:
    timeout: 10s
    send_batch_size: 1024

exporters:
  hydrolix:
    endpoint: https://ingest.hydrolix.example.com
    hdx_table: otel_logs
    hdx_transform: otel_logs_transform
    hdx_username: ${env:HYDROLIX_USERNAME}
    hdx_password: ${env:HYDROLIX_PASSWORD}

service:
  pipelines:
    logs:
      receivers: [otlp]
      processors: [batch]
      exporters: [hydrolix]
    metrics:
      receivers: [otlp]
      processors: [batch]
      exporters: [hydrolix]
    traces:
      receivers: [otlp]
      processors: [batch]
      exporters: [hydrolix]
```

## Authentication

The exporter uses HTTP Basic Authentication. Credentials are sent with each request using the configured `hdx_username` and `hdx_password`.

It is recommended to use environment variables for sensitive credentials:

```yaml
exporters:
  hydrolix:
    hdx_username: ${env:HYDROLIX_USERNAME}
    hdx_password: ${env:HYDROLIX_PASSWORD}
```

## Headers

The exporter sets the following HTTP headers on each request:
- `Content-Type: application/json`
- `x-hdx-table`: The configured table name
- `x-hdx-transform`: The configured transform name
- `Authorization`: Basic authentication credentials

## Best Practices

1. **Use the batch processor**: Always include the batch processor in your pipeline to improve performance and reduce the number of HTTP requests.

2. **Monitor error responses**: The exporter logs detailed error messages including Hydrolix response bodies to help with troubleshooting.

3. **Secure credentials**: Use environment variables or secret management systems to store Hydrolix credentials.

4. **Configure appropriate timeouts**: Adjust the `timeout` setting based on your network conditions and data volume.

5. **Test connectivity**: Verify your Hydrolix endpoint is accessible and credentials are correct before deploying to production.
