$defs:
  remote_write_queue:
    description: RemoteWriteQueue allows to configure the remote write queue.
    type: object
    properties:
      enabled:
        description: Enabled if false the queue is not enabled, the export requests are executed synchronously.
        type: boolean
      num_consumers:
        description: NumWorkers configures the number of workers used by the collector to fan out remote write requests.
        type: integer
      queue_size:
        description: QueueSize is the maximum number of OTLP metric batches allowed in the queue at a given time. Ignored if Enabled is false.
        type: integer
  target_info:
    type: object
    properties:
      enabled:
        description: Enabled if false the target_info metric is not generated by the exporter
        type: boolean
  wal_config:
    type: object
    properties:
      buffer_size:
        type: integer
      directory:
        type: string
      lag_record_frequency:
        type: string
        format: duration
      truncate_frequency:
        type: string
        format: duration
description: Config defines configuration for Remote Write exporter.
type: object
properties:
  add_metric_suffixes:
    description: AddMetricSuffixes controls whether unit and type suffixes are added to metrics on export
    type: boolean
  external_labels:
    description: ExternalLabels defines a map of label keys and values that are allowed to start with reserved prefix "__"
    type: object
    additionalProperties:
      type: string
  max_batch_request_parallelism:
    description: maximum amount of parallel requests to do when handling large batch request
    x-pointer: true
    type: integer
  max_batch_size_bytes:
    description: maximum size in bytes of time series batch sent to remote storage
    type: integer
  namespace:
    description: 'prefix attached to each exported metric name See: https://prometheus.io/docs/practices/naming/#metric-names'
    type: string
  protobuf_message:
    description: RemoteWriteProtoMsg controls whether prometheus remote write v1 or v2 is sent.
    x-customType: github.com/prometheus/client_golang/exp/api/remote.write_message_type
  remote_write_queue:
    description: QueueConfig allows users to fine tune the queues that handle outgoing requests.
    $ref: remote_write_queue
  resource_to_telemetry_conversion:
    description: ResourceToTelemetrySettings is the option for converting resource attributes to telemetry attributes. "Enabled" - A boolean field to enable/disable this option. Default is `false`. If enabled, all the resource attributes will be converted to metric labels by default. "ExcludeServiceAttributes" - If set to `true`, the `service.name`, `service.instance.id` and `service.namespace` resource attributes, which are already converted to `job` and `instance` labels respectively, will be excluded from the final metrics.
    $ref: github.com/open-telemetry/opentelemetry-collector-contrib/pkg/resourcetotelemetry.settings
  send_metadata:
    description: SendMetadata controls whether prometheus metadata will be generated and sent, this option is ignored when using PRW 2.0, which always includes metadata.
    type: boolean
  target_info:
    description: TargetInfo allows customizing the target_info metric
    $ref: target_info
  wal:
    description: WAL enables persisting metrics to a write-ahead-log before sending to the remote storage.
    x-optional: true
    $ref: wal_config
allOf:
  - $ref: go.opentelemetry.io/collector/exporter/exporterhelper.timeout_config
  - $ref: go.opentelemetry.io/collector/config/configretry.back_off_config
  - $ref: go.opentelemetry.io/collector/config/confighttp.client_config
